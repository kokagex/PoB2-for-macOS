# Prophet → Mayor 委譲命令
revelation_id: "REV-20260128-001"
timestamp: "2026-01-28T20:30:00Z"
priority: high

directive: "高額部品抽出ツール（parts_extractor）の機能拡張を実行せよ"

context:
  project_path: "/Users/kokage/national-operations/claudecode01/parts_extractor"
  spec_file: "memory/prophet_divine_revelation_20260128.md"

requirements:
  - id: 1
    name: "略式型式での曖昧検索機能"
    files: ["ui.py", "data_analyzer.py"]

  - id: 2
    name: "最低金額検索で10件取得機能"
    files: ["ui.py", "data_analyzer.py"]

  - id: 3
    name: "列ヘッダークリックでのソート機能"
    files: ["ui.py"]

  - id: 4
    name: "ダブルクリックで詳細ポップアップ表示"
    files: ["ui.py"]

  - id: 5
    name: "ポップアップUIの視認性最適化（縦横比3:4）"
    files: ["ui.py"]

phases:
  - phase: 1
    name: "データ処理基盤強化"
    tasks: [1, 2]

  - phase: 2
    name: "UI機能追加"
    tasks: [3]

  - phase: 3
    name: "詳細表示機能"
    tasks: [4, 5]

validation_criteria:
  - "既存機能（CSVエクスポート、JSON保存）が正常動作"
  - "10,000件以上でもパフォーマンス維持"
  - "全テスト合格"

expected_villager_assignments:
  Sage: "既存コード分析、実装方針調査"
  Artisan: "機能実装"
  Paladin: "セキュリティ確認"
  Bard: "ドキュメント更新"
  Merchant: "API連携確認"

delegation_to: "Mayor"
status: "pending"
