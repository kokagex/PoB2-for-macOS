#!/bin/bash
#
# Path of Building for macOS - Production Launcher
# Version: 1.0.0 (2026-01-31)
#

# Get application bundle paths
APP_PATH="$(cd "$(dirname "$0")/../.." && pwd)"
CONTENTS_PATH="$APP_PATH/Contents"
RESOURCES_PATH="$CONTENTS_PATH/Resources"
POB_ROOT="$RESOURCES_PATH/pob2macos"

# Change to PoB root directory
cd "$POB_ROOT" || {
    echo "ERROR: Cannot find Path of Building directory"
    exit 1
}

# Check for LuaJIT
if ! command -v luajit &> /dev/null; then
    echo "ERROR: LuaJIT is not installed"
    echo "Please install LuaJIT: brew install luajit"
    exit 1
fi

# Launch Path of Building
exec luajit pob2_launch.lua
